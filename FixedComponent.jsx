The solution replaces `componentWillReceiveProps` with `componentDidUpdate` for a class component or `useEffect` for a functional component.  This ensures state updates happen only after a component has received new props, preventing infinite render loops. The use of prevProps allows to check for changes before updating the state, avoiding unnecessary renders.  `useEffect` with a dependency array achieves the same result in functional components.